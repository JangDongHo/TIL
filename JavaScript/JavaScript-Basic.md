# 4. 자바스크립트 기초

## 13-1 자바스크립트로 무엇을 할까

### 웹의 요소를 제어합니다

- 자바스크립트를 추가하면 웹 문서의 각 요소를 가져와서 필요에 따라 스타일을 변경하거나 움직이게 할 수 있다.
- 자바스크립트는 HTML이나 CSS와 함께 사용해서 웹의 요소를 움직이거나 포토 갤러리를 펼쳐 놓는 것처럼 웹 사이트 UI 부분에 많이 활용한다.

### 웹 애플리케이션을 만듭니다

- 과거 웹은 단순히 정보를 나열하고 검색했다면, 최근 웹은 사용자와 실시간으로 정보를 주고 받으며 마치 애플리케이션처럼 동작한다.
- ex) 온라인 지도의 길 찾기 서비스, 코로나19 감염자 수 차트

### 다양한 라이브러리를 사용할 수 있습니다

- 웹 플랫폼을 중심으로 하는 서비스가 점점 늘어나면서 그만큼 웹 브라우저를 통한 상호 작용이 더욱 중요해지고 있다.
- 과거에는 서버에서 했던 일을 이제는 클라이언트에서도 할 수 있게 됐다. 클라이언트에서 처리해야 할 기능이 많아지면서 자바스크립트 기능은 더욱 강력해지고 있다.
- 웹 애플리케이션을 개발할 때 사용하는 리액트(React), 앵귤러(Angular), 뷰(Vue.js)같은 프레임워크도 있고, 그래픽 활용을 위한 D3.js나 DOM을 쉽게 조작할 수 있게 해주는 제이쿼리(jQuery) 같은 라이브러리도 있다.

### 서버 개발을 할 수 있습니다

- Node.js는 그동안 프런트엔드 개발에서 사용하던 자바스크립트를 백엔드 개발에서 사용할 수 있도록 만든 프레임워크이다.
- 흔히 백엔드 개발 언어라고 하면 PHP, 자바, 닷넷을 생각하지만 이제는 자바스크립트만 알아도 서버 개발까지 영역을 확대할 수 있다.

## 13-2 웹 브라우저가 자바스크립트를 만났을 때

### 웹 문서 안에 \<script> 태그로 자바스크립트 작성하기

- 자바스크립트 소스는 \<script>와 \</script> 태그 사이에 작성한다.
- 자바스크립트는 웹 문서에서 이미지나 텍스트 등의 요소를 제어하는 경우가 많으므로 되도록이면 이미지나 텍스트 등을 다 표시한 후에 실행하는 것이 좋다. 그래서 \</body> 태그 직전에 자바스크립트 소스를 삽입한다.
- HTML, CSS와는 달리 자바스크립트에서는 영어 대소 문자를 구별하므로 주의해야 한다.
- 그러나 이렇게 작성하면 문서가 복잡해지므로, 자바스크립트 소스를 작성할 때 외부 스크립트 파일로 저장해서 웹 문서와 연결하는 방법을 많이 사용한다.

### 외부 스크립트 파일로 연결해서 자바스크립트 작성하기

- 외부 자바스크립트 파일을 \<script> 태그 없이 자바스크립트 소스만 작성하고 확장자는 \*.js 파일로 저장한다.
  > 이렇게 자바스크립트 소스를 따로 작성하여 HTML 문서에 연결하는 것을 '외부 스크립트 파일을 연결한다'고 말한다.

```html
<script src="외부 스크립트 파일 경로"></script>
```

```html
<body>
  <h1 id="heading">자바스크립트</h1>
  <p id="text">위 텍스트를 클릭해 보세요</p>

  <script src="js/change-color.js"></script>
</body>
```

### 웹 브라우저에서 스크립트를 해석하는 과정

```html
1<!DOCTYPE html> 2
<html lang="ko">
  3<head>
    4
    <meta charset="UTF-8" />
    5
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    6
    <title>자바스크립트</title>
    7
    <style>
      8 body {
        text-align: center;
      }
      ...(생략) 14;
    </style>
    15
  </head>
  16
  <body>
    17
    <h1>간단한 입출력 방법</h1>

    20
    <script>
      21   console.log("안녕하세요?");
      22
    </script>
    23
  </body>
  24
</html>
```

1. 웹 브라우저는 1행에 있는 \<!DOCTYPE html>를 보고 이 문서가 웹 문서라는 것을 알게 된다. 그리고 \<html>과 \</html> 태그 사이의 내용을 HTML 표준에 맞춰 읽기 시작한다.
2. 웹 문서에서 HTML 태그의 순서와 포함 관계를 확인한다. \<head>와 \</head> 태그, \<body>와 \</body> 태그 사이에 각각 어떤 태그가 있는지 확인한다. 그리고 태그 간의 관계는 어떻게 되어 있는지 등을 분석한다.
3. 태그 분석이 끝나면 7~14행의 스타일 정보를 분석한다.
4. 20행에 있는 \<script> 태그를 만나면 웹 브라우저 안에 포함된 자바스크립트 해석기에게 스크립트 소스를 넘긴다. 자바스크립트 해석기는 \<script>와 \</script> 사이의 소스를 해석한다.
5. 2에서 분석한 HTML과 3에서 분석한 CSS 정보에 따라 웹 브라우저 화면에 표시한다.
6. 이제 웹 브라우저에서 자바스크립트 텍스트를 클릭하면 분석해 놓은 자바스크립트를 실행해서 그 결과를 화면에 표시한다.

## 13-3 자바스크립트 용어와 기본 입출력 방법

### 식과 문

- 자바스크립트의 언어의 큰 줄기는 **식(expression)** 과 **문(statement)** 이다.
- 자바스크립트에서 식은 **표현식** 이라고도 하는데, 연산식뿐만 아니라 실제 값도, 함수를 실행하는 것도 식이 된다.
- 즉, 어떤 값을 만들어낼 수 있다면 모두 식이 될 수 있으며, 식은 변수에 저장된다.

```
inch * 2.54 // 연산식은 식입니다.
"안녕하세요?" // 문자열도 식입니다.
5 // 숫자도 식입니다.
```

- 이에 비해 문은 명령이라고 생각할 수 있다. 문의 끝에는 세미콜론(;)을 붙여서 구분한다. 앞으로 배울 '조건문'이나 '제어문'등을 예로 들 수 있다.

### 간단한 입출력 방법

- 소스를 입력하다 보면 사용자에게 입력받아야 하거나 자바스크립트 실행 결과를 웹 브라우저에 표시해야 할 때가 있다.

#### 알림 창 출력하기

- **알림 창(alert)** 은 가장 많이 사용하는 간단한 대화 상자이다.

```
alter(메시지)
```

> 웹 브라우저에서 간단한 알림 내용을 표시하거나 사용자에게 어떤 값을 입력하게 하는 창을 '대화상자(dialogue box)'라고 한다.

```
alter("안녕하세요?")
```

#### 확인 창 출력하기

- **확인 창(confirm)** 은 사용자가 [확인]이나 [취소] 버튼 중에서 직접 클릭할 수 있다. 그러면 선택한 결과에 맞게 프로그램이 동작한다.

```
confirm(메시지)
```

```javascript
var reply = confirm("정말 배경 이미지를 바꾸겠습니까?");
```

#### 프롬프트 창에서 입력받기

- **프롬프트 창(prompt)** 은 텍스트 필드가 있는 작은 창이다. 필드 안의 내용을 가져와 프로그램에서 사용할 수 있다.

```
prompt(메시지) 또는 prompt(메시지, 기본값)
```

프롬프트 창을 만들 때는 기본값을 지정하거나 지정하지 않을 수 있다. 기본값을 지정하지 않으면 빈 텍스트 필드로 표시된다.

```javascript
var name = prompt("이름을 입력하세요.", "아무개");
```

```javascript
var name = prompt("이름을 입력하세요.");
```

#### 웹 브라우저 화면에 출력을 담당하는 document.write() 문

- 단순히 브라우저 화면에서 결괏값을 확인하는 용도로는 document.write()를 많이 사용한다.
- document.write()를 완전히 이해하려면 document 객체를 알아야 한다. 하지만 아직 document 객체를 배우지 않았으므로 **웹 문서(document)에서 괄호 안의 내용을 표시(write)하는 명령문** 이라는 정도로만 알아둔다.
- document.write()의 괄호 안에는 실제 웹 브라우저 화면에 표시할 내용이나 어떤 결괏값이 저장된 변수를 넣을 수도 있다. 물론 따옴표 안에는 HTML 태그도 함께 사용할 수 있다.

```javascript
document.write("<h1>어서오세요</h1>");
```

- - 연산자를 사용해서 웹 브라우저 화면에 표시할 내용과 변수를 섞어서 나타낼 수도 있다.
- - 연산자는 더하기 기호가 아니라 **연결 연산자** 이다.

```javascript
var name = prompt("이름을 입력하세요.");
document.write("<b><big>" + name + "</big></b>님, 환영합니다.");
```

#### 콘솔 창에 출력하는 console.log() 문

- console.log() 문은 괄호 안의 내용을 콘솔 창에 표시한다.
- 콘솔 창은 웹 브라우저의 개발자 도구 창에 포함되어 있는 공간이다.
- 콘솔 창에서 소스 코드의 오류를 발견하거나 변숫값을 확인할 수도 있다.
- console.log() 문의 괄호 안에는 변수가 들어갈 수도 있고 따옴표 사이에 표시할 텍스트를 넣을 수도 있다. 이때 따옴표 안에 HTML 태그는 사용할 수 없다.

```javascript
<script>
  var name = prompt("이름을 입력하세요."); console.log(name + "님,
  환영합니다.");
</script>
```

## 자바스크립트 스타일 가이드

### 코딩 규칙이 왜 필요할까요?

- 자바스크립트 코딩 규칙은 **스타일 가이드** 나 **코딩 컨벤션**, **코딩 스타일**, **표준 스타일** 이라고도 한다.
- 자바스크립트는 웹 문서에서 동적인 효과를 주기 위해 출발한 언어이므로 다른 프로그래밍 언어에 비해 데이터 유형(type)이 유연해서 곳곳에 사용자가 주의를 기울이지 않으면 오류가 발생한다.
- 게다가 오픈소스에 기여하거나 누군가와 공유할 소스라면 코드를 더욱 깔끔하게 작성해야 한다.
- 이때 스타일 가이드를 따라서 작성하면 소스 코드의 오류도 줄이고 일관성이 생겨 읽기 쉬워진다.

### 자바스크립트 스타일 가이드

- 보통 [구글](google.github.io/styleguide/jsguide.html)이나 [에어비앤비](github.com/airbnb/javascript)에서 배포한 것을 기준으로 작성한다.
- 자바스크립트를 더 깊게 공부하고 싶다면 두 스타일 가이드를 참고해서 작성해라.

### 자바스크립트 소스를 작성할 때 지켜야 할 규칙

1. 코드를 보기 좋게 들여쓰기한다

   - HTML 태그와 CSS를 작성했던 것처럼 자바스크립트 소스를 작성할 때도 **들여쓰기**를 해야한다.
   - 들여쓰기를 해서 작성하면 소스 간의 포함 관계를 알아보기가 쉽다.

2. 세미콜론으로 문장을 구분한다

   - **세미콜론(;)** 은 문장의 끝을 나타내며 문장과 문장을 구분하는 역할을 한다.
   - 사실 안 붙여도 실행은 되지만, 스타일 가이드에서는 문장을 끝낼 때 반드시 세미콜론을 붙이도록 권장한다. 이렇게 문장을 명확히 표시해 주면 소스를 디버깅하기 쉽기 때문이다.
   - 소스는 한 줄에 한 문장만 작성하는 것이 좋다.

3. 공백을 넣어 읽기 쉽게 작성한다

   - 예약어나 연산자, 값 사이에는 공백을 넣어서 소스 코드를 읽기 쉽게 작성한다.
   - 공백이 없어도 실행은 되나, 개발자가 소스 코드를 읽거나 디버깅을 할 때는 공백이 있어야 가독성이 좋다.

4. 소스 코드를 잘 설명하는 주석을 작성한다

   - 프로그래밍의 주석은 소스 코드를 살펴보기 위해 꼭 필요한 요소이다.

   1. 한 줄 주석: 주석 기호로 슬래시 2개(//)를 붙이고 내용을 작성한다. // 바로 뒤에 작성한 내용만 주석으로 인식한다.
   2. 여러 줄 주석: 주석 내용이 여러 줄이면 여는 주석 기호(/\*)를 맨 앞에, 닫는 주속 기호(\*/)를 맨 뒤에 넣는다. 그리고 그 사이에 주석 내용을 작성한다.

5. 식별자는 정해진 규칙을 지켜 작성한다.

   - 식별자(identifier)는 개발자가 자바스크립트의 변수, 함수, 속성 등을 구별하라고 이름 붙인 특정 단어를 의미한다.
   - 식별자의 첫 글자는 반드시 영문자나 언더스코어(\_), 또는 달러 기호($)로 시작해야 한다.
   - 두 단어 이상이 모여 하나의 식별자를 만들 경우 단어 사이에 공백을 둘 수 없고, 단어와 단어 사이를 하이픈(-)이나 언더바(\_)로 연결해서 사용한다.
   - 하이픈이나 언더바 없이 두 단어를 붙여 사용할 경우 첫 번째 단어는 소문자로 시작하고 두 번째 단어는 대문자로 시작하는 것이 일반적이다.

   ```
   num1          // 영문자로 시작하는 식별자
   _doSomething  // 언더스코어(_)로 시작하는 식별자
   checkTime()   // 두 단어로 만든 식별자
   ```

6. 예약어는 식별자로 사용할 수 없다
   - 예약어(keyword)는 키워드라고도 하는데, 식별자로 사용할 수 없도록 자바스크립트에 미리 정해 놓은 단어를 의미한다.
   - 예를 들어 var는 변수를 선언할 때 쓰는 예약어이며 식별자 이름으로는 사용할 수 없다.
